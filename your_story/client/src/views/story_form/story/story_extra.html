<form
data-ng-submit="processForm()"
class="blocky-form flex-column-between"
autocomplete="off"
name="storyBack"
id="storyBack"
novalidate
>

<div id="storyBackWrapper" class="max-width flex-column-center">

  <fieldset data-ng-if="issueApplicable()" class="max-width">

    <header class="max-width center-pseudo">
      <h2 class="select-none roboto-condensed light-weight">What Issue did you work on?</h2>
    </header>

    <section class="form-line">
      <div class="select-container" data-material-select data-options='issueOpts'></div>
      <input type="hidden" id="issueSelectInput" class="display-none"
      data-ng-model="issueOpts.selected" required>
      <span class="error-required" data-ng-class="{hidden: !issueOpts.required()}">This field is required.</span>
    </section>

  </fieldset>

  <fieldset data-ng-if="companyApplicable()">
    <div class="form-line" data-ripple-effect>
      <input type="text"
      id="company"
      name="company"
      data-ng-model="storyFormData.company"
      required>
      <label for="company">Company you worked at</label>
      <span class="error-required"
      data-ng-class="{hidden: !storyBack.company.$error.required}"
      >This field is required.</span>
    </div>
  </fieldset>

  <fieldset id="participantAvatar" class="form-line flex-row-between">
      <!-- Picture selection -->
      <legend class="flow-text">A picture describing your experience with <span class="aiesec-span">AIESEC</span> if you want to upload more than one picture please select them all at once while uploading. Uploading them one at a time will lead to replacing current picture.</legend>
      <button class="btn-fab file-select-button"
      data-ripple-effect
      data-ngf-multiple="true"
      data-ngf-select
      data-ng-model="storyFormData.avatars"
      accept="image/*"
      required
      >
      <i class="material-icons">&#xE403;</i>
      </button>
      <file-gallery
      data-gallery-files="storyFormData.avatars"
      ></file-gallery>
  </fieldset>
</div>
<!-- Button wrapper for positioning across all forms -->
<div class="button-wrapper">
  <div class="button-container">
      <button data-flip="#storyFormFlipper" type="button" title="back" class="btn-raised">BACK</button>
      <button type="submit" title="next"
      data-analytics-on="click"
      data-analytics-category="Story form interaction"
      data-analytics-event="Form submission"
      class="btn-raised"
      data-ng-disabled="storyBack.$invalid">Next</button>
  </div>
</div>
</form>